<ion-content class="ion-padding">

  <ion-avatar>
    <ion-img src="assets/images/avatar.png"></ion-img>
  </ion-avatar>

  <form [formGroup]="loginGroup" (ngSubmit)="handleLogin()">
    <ion-list lines="none">
      <ion-item-group class="ion-margin-bottom">
        <ion-item color="light">
          <ion-icon name="mail" slot="start" color="medium"></ion-icon> 
          <ion-input
            label="Correo electrónico"
            labelPlacement="floating"
            formControlName="email"
            type="email"
            name="email"
            placeholder="Ingresa tu correo electrónico"
          ></ion-input>
        </ion-item>
        <ion-text 
          color="danger" 
          *ngIf="loginGroup.get('email')!.invalid && (loginGroup.get('email')!.dirty || loginGroup.get('email')!.touched)">
          <p *ngIf="loginGroup.get('email')!.errors!['required']">El correo electrónico es requerido</p>
          <p *ngIf="loginGroup.get('email')!.errors!['email']">Debe ser un correo electrónico válido</p>
        </ion-text>
        <ion-item color="light">
          <ion-icon name="key" slot="start" color="medium"></ion-icon> 
          <ion-icon 
            color="primary" 
            slot="end" 
            (click)="changePasswordVisibility()" 
            [name]="passwordVisibility ? 'eye-off-outline' : 'eye-outline'"
          ></ion-icon>
          <ion-input
            label="Contraseña"
            labelPlacement="floating"
            formControlName="password"
            [type]="passwordVisibility ? 'text' : 'password'"
            name="password"
            placeholder="Ingresa tu contraseña"
          ></ion-input>
        </ion-item>
        
        <ion-text 
          color="danger" 
          *ngIf="loginGroup.get('password')!.invalid && (loginGroup.get('password')!.dirty || loginGroup.get('password')!.touched)">
          <p *ngIf="loginGroup.get('password')!.errors!['required']">La contraseña es requerida</p>
          <p *ngIf="loginGroup.get('password')!.errors!['minlength']">La contraseña debe tener al menos 6 caracteres</p>
        </ion-text>
      </ion-item-group>
    </ion-list>
    <ion-button 
      expand="block" 
      shape="round" 
      type="submit"
      size="large" 
      color="primary">
      <ion-text>INICIAR SESIÓN</ion-text>
    </ion-button>
  </form>

  <ion-text 
    color="primary" 
    class="ion-text-center text-link"
    (click)="handleSignupClick()"
  >
    <p class="marginTop">
      ¿No tienes una cuenta?
      <b>Regístrate</b>
    </p>
  </ion-text>

</ion-content>